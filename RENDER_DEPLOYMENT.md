# ğŸš€ Render Deployment Guide - Asset Classification System

Complete guide to deploy your full-stack Asset Classification System on Render with one repository.

## ğŸ“‹ Prerequisites

- GitHub repository with your complete project
- Render account (free at [render.com](https://render.com))

## ğŸ—ï¸ Project Structure

Your project is perfectly structured for Render deployment:

```
asset-classification/
â”œâ”€â”€ package.json              # Next.js frontend
â”œâ”€â”€ src/                     # Frontend React code
â”œâ”€â”€ api/                     # Django backend
â”‚   â”œâ”€â”€ manage.py
â”‚   â”œâ”€â”€ requirements.txt     # Python dependencies
â”‚   â””â”€â”€ assets_management/
â”œâ”€â”€ render.yaml              # Render configuration
â””â”€â”€ README.md
```

## ğŸš€ One-Click Deployment Steps

### Step 1: Push to GitHub
```bash
git add .
git commit -m "Ready for Render deployment"
git push origin main
```

### Step 2: Deploy on Render
1. Go to [render.com](https://render.com)
2. Click "New +" â†’ "Blueprint"
3. Connect your GitHub repository
4. Render will automatically detect `render.yaml` and create:
   - âœ… Frontend service (Next.js)
   - âœ… Backend service (Django)
   - âœ… PostgreSQL database

### Step 3: Automatic Setup
Render will automatically:
- Install dependencies for both frontend and backend
- Set up PostgreSQL database
- Run migrations
- Seed initial data
- Deploy both services

## ğŸ”§ Manual Setup (Alternative)

If you prefer manual control:

### Frontend Service
1. Create new "Static Site"
2. Connect GitHub repo
3. Settings:
   - **Build Command:** `npm install && npm run build`
   - **Publish Directory:** `out` (for static export) or `dist`

### Backend Service
1. Create new "Web Service"
2. Connect GitHub repo
3. Settings:
   - **Root Directory:** `api`
   - **Build Command:** `pip install -r requirements.txt`
   - **Start Command:** `gunicorn assets_management.wsgi:application --bind 0.0.0.0:$PORT`

### Database
1. Create new "PostgreSQL"
2. Note the connection details

## ğŸŒ Environment Variables

Render will automatically set these, but you can customize:

### Backend Environment Variables
```bash
DJANGO_SETTINGS_MODULE=assets_management.deployment_settings
DEBUG=False
SECRET_KEY=<auto-generated>
DATABASE_URL=<auto-provided>
ALLOWED_HOSTS=*
RENDER_EXTERNAL_HOSTNAME=<your-app>.onrender.com
```

### Frontend Environment Variables
```bash
NODE_ENV=production
NEXT_PUBLIC_API_URL=https://<backend-service>.onrender.com
```

## ğŸ“Š Database Setup

After deployment, the system automatically:
1. âœ… Runs migrations
2. âœ… Seeds all data (23 departments, 68+ asset types)
3. âœ… Creates sample assets
4. âœ… Sets up assessment questions

Manual verification (if needed):
```bash
# Access Render shell for backend service
python manage.py migrate
python manage.py seed_all_data --clear
```

## ğŸ”— Your Deployed URLs

After successful deployment:
- **Frontend:** `https://asset-classification-frontend.onrender.com`
- **Backend API:** `https://asset-classification-backend.onrender.com`
- **Database:** Automatically connected

## ğŸ§ª Testing Deployment

### Frontend Tests
1. Visit frontend URL
2. Check navigation works
3. Visit `/ml-training` - should show "API Online"
4. Visit `/classification/asset-form` - dropdowns should be populated

### Backend Tests
1. Visit `<backend-url>/api/departments/` - should show 23 departments
2. Visit `<backend-url>/api/asset-types/` - should show 68+ asset types
3. Visit `<backend-url>/api/assets/` - should show sample assets

### ML Training Tests
1. Upload a CSV file at `/ml-training`
2. Train models
3. Test predictions
4. Download reports

## ğŸ’° Cost Breakdown

### Render Free Tier
- **Frontend:** Free static site hosting
- **Backend:** 750 hours/month free (enough for 24/7)
- **Database:** 1GB PostgreSQL free
- **Total Cost:** $0/month for personal projects

## ğŸ”„ Auto-Deployment

Every push to GitHub main branch automatically:
1. âœ… Rebuilds frontend
2. âœ… Rebuilds backend
3. âœ… Runs migrations
4. âœ… Deploys updates
5. âœ… Zero downtime deployment

## ğŸ› ï¸ Troubleshooting

### Common Issues

#### Build Failures
```bash
# Check build logs in Render dashboard
# Common fixes:
1. Ensure requirements.txt is in /api folder
2. Check Python version compatibility
3. Verify environment variables
```

#### Database Connection Issues
```bash
# Verify DATABASE_URL is set
# Check PostgreSQL service is running
# Ensure migrations completed
```

#### CORS Issues
```bash
# Update CORS_ALLOWED_ORIGINS in deployment_settings.py
# Add your frontend domain
```

### Logs and Monitoring
- **Real-time logs** available in Render dashboard
- **Automatic health checks** included
- **SSL certificates** auto-generated
- **Custom domains** supported (free)

## ğŸ¯ Post-Deployment Setup

### 1. Custom Domain (Optional)
1. Go to frontend service settings
2. Add custom domain
3. Update DNS records

### 2. Environment Optimization
```bash
# Backend optimizations
SECURE_SSL_REDIRECT=True
SECURE_PROXY_SSL_HEADER=('HTTP_X_FORWARDED_PROTO', 'https')

# Frontend optimizations  
NEXT_PUBLIC_API_URL=https://your-custom-api-domain.com
```

### 3. Monitoring Setup
- Enable uptime monitoring
- Set up notification alerts
- Configure performance tracking

## âœ¨ Features Available After Deployment

### Complete Asset Management
- âœ… Asset creation with 23 departments
- âœ… 68+ professional asset types
- âœ… Standards-compliant risk assessment
- âœ… NIST/ISO framework compliance

### ML Training System
- âœ… CSV dataset upload
- âœ… Multi-model training (RF, SVM, DT)
- âœ… Real-time predictions
- âœ… Performance reporting

### Assessment System
- âœ… Questionnaire management
- âœ… NIST CSF alignment
- âœ… ISO 27001 controls

## ğŸ‰ Success!

Your Asset Classification System is now:
- âœ… **Deployed** on professional infrastructure
- âœ… **Scalable** with automatic scaling
- âœ… **Secure** with HTTPS and security headers
- âœ… **Fast** with global CDN
- âœ… **Reliable** with 99.9% uptime

**URL:** `https://your-app.onrender.com`

Perfect for:
- ğŸ“š **Academic research and thesis work**
- ğŸ’¼ **Professional portfolios**
- ğŸ¢ **Enterprise demonstrations**
- ğŸ”¬ **Standards compliance showcases**